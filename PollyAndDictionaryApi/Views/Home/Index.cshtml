@{
    ViewBag.Title = "Ben's Dictionary";
}

<h2>Ben's Dictionary</h2>

<div class="input-group mb-3">
    <span class="input-group-text" id="basic-addon2">
        Consult the Dictionary:
    </span>
    <input type="text" class="form-control" placeholder="type here" />
    <button type="button" class="btn btn-info">Consult</button>
    <div class="container-fluid" id="dictionary-container">
        <div class="row">
            <div class="col-sm">
                Consult Result
            </div>
            <div class="col-sm">
                Audio
            </div>
        </div>
        <div class="row">
            <div class="col-lg" id="dictionary-content">
            </div>
            <div class="col-sm">
                @*<audio controls>
                        <source src="speech.mp3" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>*@
                <button type="button" class="btn btn-outline-primary">
                    <span class="oi oi-play-circle"></span> Play
                </button>
            </div>
        </div>
    </div>

    @section script{
        <script>
            (function () {
                $('body > div.container.body-content > div > button').bind("click", function () {

                    var word = $('body > div.container.body-content > div > input').val();
                    $.get({
                        url: '/Home/Query?word=' + word
                    }).done(function (result) {
                        $('#dictionary-content').html(JSON.stringify(result));
                        console.log(result);
                    });
                });
                $('#dictionary-container > div:nth-child(2) > div.col-sm > button').bind("click", function () {
                    var url = "speech.mp3?v=" + new Date().getTime();
                    var audio = new Audio(url);
                    audio.load();
                    audio.play();
                })
            })();
        </script>
    }